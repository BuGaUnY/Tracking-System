{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block title %}<title>Activity | Register | {{activity.title}}</title>{% endblock %}

{% block content %}
<div class="card-body bg-body-tertiary p-4 rounded">
    {% if request.user.profile.status == False %}
            <div class="alert alert-danger" role="alert">
                <h4 class="alert-heading">คุณยังไม่ได้ยืนยันตัวตน</h4>
                <p>กรุณายืนยันตัวตนโดยการกรอกข้อมูลและภาพถ่ายที่โปรไฟล์</p>
                <a href="{% url 'profile-update' %}" class="btn btn-warning"><i class="fa-regular fa-pen-to-square"></i> แก้ไขโปรไฟล์</a>
                <hr>
                <p class="mb-0">ติดต่อเจ้าหน้าที่ : 098-3670100</p>
            </div>
    {% else %}
        <h1 class="mb-2">{{activity.title}}</h1>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{form|crispy}}
            {% if activity.activity_type == 'free' %}
                <p class="border p-2 bg-body-secondary rounded mt-2"><em>ราคา : ฟรี</em></p>
            {% else %}
                <p class="border p-2 bg-body-secondary rounded mt-2">
                    <em>ราคา : {{activity.price}} บาท</em> <br>
                    <em>ชำระผ่าน : {{activity.payment_method}}</em>
                </p>
            {% endif %}
            <p class="border p-2 bg-body-secondary rounded mt-2"><em>ติดต่อ : {{activity.contact}}</em></p>
            <button type="submit" class="btn btn-primary"><i class="fa-solid fa-right-to-bracket"></i> ลงทะเบียน</button>
            <a href="{% url 'activity-list' %}" class="btn btn-danger"><i class="fa-solid fa-xmark"></i> ยกเลิก</a>
        </form>
    {% endif %}
</div>


<!-- mask -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"
integrity="sha512-pHVGpX7F/27yZ0ISY+VVjyULApbDlD0/X0rgGbTqCE7WFW5MezNTWG/dnhtbBuICzsd0WQPgpE4REBLv+UqChw=="
crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}